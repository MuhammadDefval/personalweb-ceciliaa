<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Contact Me - Personal Portfolio</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <style>
    /* Modern Gradient Background */
    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: #333;
    }

    /* Contact Section Styling */
    .contact {
      padding: 80px 0;
      position: relative;
    }

    .contact::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1587560699334-bea93391dcef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
      opacity: 0.05;
      z-index: -1;
    }

    .section-title h2 {
      font-size: 2.5rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 20px;
      position: relative;
      display: inline-block;
    }

    .section-title h2::after {
      content: '';
      position: absolute;
      width: 50%;
      height: 4px;
      background: linear-gradient(90deg, #34b7a7, #2a9d8f);
      bottom: -10px;
      left: 0;
      border-radius: 2px;
    }

    .section-title p {
      color: #555;
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto;
    }

    /* Info Boxes */
    .contact .info-box {
      padding: 25px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.95);
      transition: all 0.4s ease;
      margin-bottom: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
      border-left: 4px solid #34b7a7;
    }

    .contact .info-box:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
    }

    .contact .info-box i {
      font-size: 28px;
      color: #34b7a7;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .contact .info-box:hover i {
      transform: scale(1.2);
    }

    .contact .info-box h4 {
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .contact .info-box p,
    .contact .info-box a {
      color: #555;
      transition: color 0.3s ease;
    }

    .contact .info-box a:hover {
      color: #34b7a7;
      text-decoration: none;
    }

    /* Contact Form */
    .contact .php-email-form {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
      transition: all 0.4s ease;
    }

    .contact .php-email-form:hover {
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
    }

    .contact .php-email-form .form-control {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 15px;
      height: auto;
      box-shadow: none;
      transition: all 0.3s ease;
    }

    .contact .php-email-form .form-control:focus {
      border-color: #34b7a7;
      box-shadow: 0 0 0 3px rgba(52, 183, 167, 0.2);
    }

    .contact .php-email-form textarea.form-control {
      min-height: 150px;
    }

    .contact .php-email-form button[type="submit"] {
      background: linear-gradient(135deg, #34b7a7, #2a9d8f);
      border: none;
      padding: 15px 40px;
      border-radius: 8px;
      transition: all 0.4s ease;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: white;
      box-shadow: 0 4px 15px rgba(42, 157, 143, 0.3);
    }

    .contact .php-email-form button[type="submit"]:hover {
      background: linear-gradient(135deg, #2a9d8f, #21867a);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(42, 157, 143, 0.4);
    }

    /* Map Container */
    .map-container {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      transition: all 0.4s ease;
      margin-bottom: 40px;
      border: 1px solid #e0e0e0;
    }

    .map-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
    }

    .map-container iframe {
      width: 100%;
      height: 400px;
      border: none;
    }

    /* Location Input */
    .location-input {
      margin-top: 20px;
      padding: 20px;
      background: rgba(52, 183, 167, 0.05);
      border-radius: 8px;
      border: 1px dashed #34b7a7;
    }

    .location-input label {
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
      display: block;
    }

    #getLocationBtn {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: none;
      background: linear-gradient(135deg, #34b7a7, #2a9d8f);
      color: white;
      font-weight: 600;
      cursor: pointer;
      margin-top: 15px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(42, 157, 143, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    #getLocationBtn:hover {
      background: linear-gradient(135deg, #2a9d8f, #21867a);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(42, 157, 143, 0.4);
    }

    #getLocationBtn i {
      font-size: 18px;
    }

    /* Status Messages */
    .loading, .error-message, .sent-message {
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      text-align: center;
      font-weight: 500;
      display: none;
    }

    .loading {
      background: rgba(52, 183, 167, 0.1);
      color: #2a9d8f;
    }

    .error-message {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
    }

    .sent-message {
      background: rgba(46, 204, 113, 0.1);
      color: #2ecc71;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .contact .php-email-form {
        padding: 25px;
      }
      
      .section-title h2 {
        font-size: 2rem;
      }
      
      .map-container iframe {
        height: 300px;
      }
    }

    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .contact .info-box, .contact .php-email-form, .map-container {
      animation: fadeIn 0.6s ease forwards;
    }

    .contact .info-box:nth-child(1) { animation-delay: 0.1s; }
    .contact .info-box:nth-child(2) { animation-delay: 0.2s; }
    .contact .info-box:nth-child(3) { animation-delay: 0.3s; }
    .contact .info-box:nth-child(4) { animation-delay: 0.4s; }
    .contact .php-email-form { animation-delay: 0.5s; }
    .map-container { animation-delay: 0.6s; }
  </style>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container-fluid d-flex justify-content-between align-items-center">

      <h1 class="logo me-auto me-lg-0"><a href="index.html">Kontak Saya</a></h1>

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="resume.html">CV</a></li>
          <li><a href="portfolio.html">Portfolio</a></li>
          <li><a class="active" href="contact.html">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

      <div class="header-social-links">
        <a href="https://www.instagram.com/sesil_fp?igsh=dG9heHZhM21ocXlw&utm_source=qr" class="instagram"><i class="bi bi-instagram"></i></a>
      </div>

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Hubungi Saya</h2>
          <p>Silakan hubungi saya untuk konsultasi atau layanan praktik kebidanan. Saya siap membantu Anda dengan pelayanan yang ramah, profesional, dan berbasis kebutuhan Anda. Jangan ragu untuk menghubungi kapan saja, saya akan merespons secepat mungkin.</p>
        </div>

        <div class="map-container">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3959.054708385631!2d107.43222829999999!3d-7.1196588!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e688db2754ec65d%3A0x5ac3cac6d1b2c1d4!2sHomestay%20murah%20ciwidey!5e0!3m2!1sid!2sid!4v1747797224462!5m2!1sid!2sid" 
            width="100%" 
            height="350" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>

        <div class="row mt-5">

          <div class="col-lg-4">
            <div class="info">
              <div class="address info-box">
                <i class="bi bi-geo-alt-fill"></i>
                <h4>Location:</h4>
                <p>Bandung, West Java, Indonesia</p>
              </div>

              <div class="email info-box">
                <i class="bi bi-envelope-fill"></i>
                <h4>Email:</h4>
                <p>sesilfp@gmail.com</p>
              </div>

              <div class="phone info-box">
                <i class="bi bi-telephone-fill"></i>
                <h4>Call:</h4>
                <p>+6282260263842</p>
              </div>
              
              <div class="whatsapp info-box">
                <i class="bi bi-whatsapp"></i>
                <h4>WhatsApp:</h4>
                <p><a href="https://wa.me/6282260263842" target="_blank">Chat Sekarang</a></p>
              </div>

            </div>

          </div>

          <div class="col-lg-8 mt-5 mt-lg-0">

            <form id="whatsappForm" role="form" class="php-email-form">
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" name="name" class="form-control" id="name" placeholder="Nama Anda" required>
                </div>
                <div class="col-md-6 form-group mt-3 mt-md-0">
                  <input type="email" class="form-control" name="email" id="email" placeholder="Email Anda" required>
                </div>
              </div>
              <div class="form-group mt-3">
                <input type="text" class="form-control" name="subject" id="subject" placeholder="Subjek" required>
              </div>
              <div class="form-group mt-3">
                <textarea class="form-control" name="message" id="message" rows="5" placeholder="Pesan Anda" required></textarea>
              </div>
              
              <!-- Enhanced Location Input Section -->
              <div class="form-group mt-3 location-input">
                <label for="userLocation"><i class="bi bi-geo-alt-fill"></i> Lokasi Anda (Opsional)</label>
                <input type="text" class="form-control" name="userLocation" id="userLocation" placeholder="Masukkan alamat atau klik tombol dibawah">
                <button type="button" id="getLocationBtn"><i class="bi bi-geo-alt"></i> Dapatkan Lokasi Saya</button>
                <input type="hidden" id="latitude" name="latitude">
                <input type="hidden" id="longitude" name="longitude">
                <small class="text-muted">Kami tidak menyimpan data lokasi Anda. Hanya digunakan untuk keperluan saat ini.</small>
              </div>
              
              <div class="my-3">
                <div class="loading"><i class="bi bi-arrow-repeat"></i> Memproses permintaan Anda...</div>
                <div class="error-message"><i class="bi bi-exclamation-triangle"></i> Terjadi kesalahan. Silakan coba lagi.</div>
                <div class="sent-message"><i class="bi bi-check-circle"></i> Pesan Anda sedang dialihkan ke WhatsApp. Terima kasih!</div>
              </div>
              <div class="text-center"><button type="submit"><i class="bi bi-send-fill"></i> Kirim Pesan</button></div>
            </form>

          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Muhammad Defval</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        Designed with <i class=""></i> by <a href="#">Muhammad Defval</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  
  <!-- Enhanced WhatsApp Form Handler -->
  <script>
    document.getElementById('whatsappForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Show loading message
      document.querySelector('.loading').style.display = 'block';
      document.querySelector('.error-message').style.display = 'none';
      document.querySelector('.sent-message').style.display = 'none';
      
      // Get form values
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const subject = document.getElementById('subject').value;
      const message = document.getElementById('message').value;
      const userLocation = document.getElementById('userLocation').value;
      const latitude = document.getElementById('latitude').value;
      const longitude = document.getElementById('longitude').value;
      
      // Format WhatsApp message with better structure
      let whatsappMessage = `*PESAN BARU DARI WEBSITE*%0A%0A` +
                           `*Nama Pengirim:*%0A${name}%0A%0A` +
                           `*Email:*%0A${email}%0A%0A` +
                           `*Subjek:*%0A${subject}%0A%0A` +
                           `*Pesan:*%0A${message}`;
      
      // Add location if available
      if (userLocation) {
        whatsappMessage += `%0A%0A*Lokasi Pengirim:*%0A${userLocation}`;
        
        // Add coordinates if available
        if (latitude && longitude) {
          whatsappMessage += `%0A*Koordinat GPS:* ${latitude},${longitude}`;
          whatsappMessage += `%0A*Google Maps:* https://www.google.com/maps?q=${latitude},${longitude}`;
        }
      }
      
      // Add timestamp
      const now = new Date();
      whatsappMessage += `%0A%0A*Dikirim pada:*%0A${now.toLocaleDateString('id-ID')} ${now.toLocaleTimeString('id-ID')}`;
      
      // Your WhatsApp number
      const whatsappNumber = '6282260263842';
      
      // Create WhatsApp URL
      const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${whatsappMessage}`;
      
      // Simulate processing delay with animation
      let dots = 0;
      const loadingInterval = setInterval(function() {
        dots = (dots + 1) % 4;
        document.querySelector('.loading i').style.transform = `rotate(${dots * 90}deg)`;
      }, 300);
      
      // Process after delay
      setTimeout(function() {
        clearInterval(loadingInterval);
        
        // Hide loading message
        document.querySelector('.loading').style.display = 'none';
        
        // Open WhatsApp in new tab
        window.open(whatsappUrl, '_blank');
        
        // Show success message with animation
        const sentMsg = document.querySelector('.sent-message');
        sentMsg.style.display = 'block';
        sentMsg.style.animation = 'fadeIn 0.5s ease';
        
        // Reset form with animation
        const form = document.getElementById('whatsappForm');
        form.style.opacity = '0.5';
        setTimeout(() => {
          form.reset();
          form.style.opacity = '1';
          form.style.transition = 'opacity 0.5s ease';
        }, 500);
      }, 2000);
    });

    // Enhanced Get current location button
    document.getElementById('getLocationBtn').addEventListener('click', function() {
      if (navigator.geolocation) {
        // Show loading state with animation
        const btn = document.getElementById('getLocationBtn');
        btn.innerHTML = '<i class="bi bi-gear-fill spin"></i> Mendapatkan lokasi...';
        btn.disabled = true;
        
        // Add spinning animation
        const spinIcon = btn.querySelector('i');
        spinIcon.style.animation = 'spin 1s linear infinite';
        
        navigator.geolocation.getCurrentPosition(
          function(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            
            // Save coordinates
            document.getElementById('latitude').value = latitude;
            document.getElementById('longitude').value = longitude;
            
            // Get address using reverse geocoding
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`)
              .then(response => response.json())
              .then(data => {
                const address = data.display_name || 'Lokasi saat ini';
                document.getElementById('userLocation').value = address;
                
                // Success animation
                btn.innerHTML = '<i class="bi bi-check-circle-fill"></i> Lokasi Didapatkan!';
                btn.style.background = 'linear-gradient(135deg, #2ecc71, #27ae60)';
                
                setTimeout(() => {
                  btn.innerHTML = '<i class="bi bi-geo-alt"></i> Dapatkan Lokasi Saya';
                  btn.style.background = 'linear-gradient(135deg, #34b7a7, #2a9d8f)';
                  btn.disabled = false;
                  spinIcon.style.animation = 'none';
                }, 2000);
              })
              .catch(error => {
                console.error('Error getting address:', error);
                document.getElementById('userLocation').value = `${latitude}, ${longitude}`;
                
                // Partial success state
                btn.innerHTML = '<i class="bi bi-info-circle-fill"></i> Koordinat Didapatkan';
                btn.style.background = 'linear-gradient(135deg, #3498db, #2980b9)';
                
                setTimeout(() => {
                  btn.innerHTML = '<i class="bi bi-geo-alt"></i> Dapatkan Lokasi Saya';
                  btn.style.background = 'linear-gradient(135deg, #34b7a7, #2a9d8f)';
                  btn.disabled = false;
                  spinIcon.style.animation = 'none';
                }, 2000);
              });
          },
          function(error) {
            // Error state
            btn.innerHTML = '<i class="bi bi-exclamation-triangle-fill"></i> Gagal Mendapatkan Lokasi';
            btn.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
            
            setTimeout(() => {
              btn.innerHTML = '<i class="bi bi-geo-alt"></i> Dapatkan Lokasi Saya';
              btn.style.background = 'linear-gradient(135deg, #34b7a7, #2a9d8f)';
              btn.disabled = false;
              spinIcon.style.animation = 'none';
            }, 2000);
            
            // Show error message based on error code
            let errorMsg = 'Tidak dapat mendapatkan lokasi.';
            switch(error.code) {
              case error.PERMISSION_DENIED:
                errorMsg = 'Izin lokasi ditolak. Harap aktifkan izin lokasi di pengaturan browser Anda.';
                break;
              case error.POSITION_UNAVAILABLE:
                errorMsg = 'Informasi lokasi tidak tersedia.';
                break;
              case error.TIMEOUT:
                errorMsg = 'Permintaan lokasi melebihi batas waktu.';
                break;
            }
            
            const errorElement = document.querySelector('.error-message');
            errorElement.innerHTML = `<i class="bi bi-exclamation-triangle"></i> ${errorMsg}`;
            errorElement.style.display = 'block';
            setTimeout(() => {
              errorElement.style.display = 'none';
            }, 5000);
          },
          {
            enableHighAccuracy: true,
            timeout: 10000,
            maximumAge: 0
          }
        );
      } else {
        const errorElement = document.querySelector('.error-message');
        errorElement.innerHTML = '<i class="bi bi-exclamation-triangle"></i> Browser Anda tidak mendukung geolokasi.';
        errorElement.style.display = 'block';
        setTimeout(() => {
          errorElement.style.display = 'none';
        }, 5000);
      }
    });

    // Add spin animation
    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>